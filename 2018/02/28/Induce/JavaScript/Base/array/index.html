<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JavaScript," />





  <link rel="alternate" href="/atom.xml" title="Luuman's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Array 对象方法">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript Array 数据结构">
<meta property="og:url" content="http://luuman.github.io/2018/02/28/Induce/JavaScript/Base/array/index.html">
<meta property="og:site_name" content="Luuman&#39;s Blog">
<meta property="og:description" content="Array 对象方法">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-03-13T03:00:56.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript Array 数据结构">
<meta name="twitter:description" content="Array 对象方法">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://luuman.github.io/2018/02/28/Induce/JavaScript/Base/array/"/>





  <title> JavaScript Array 数据结构 | Luuman's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Luuman's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">因为有了危机感，所以会义无反顾。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://luuman.github.io/2018/02/28/Induce/JavaScript/Base/array/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="世平阜康">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Luuman's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                JavaScript Array 数据结构
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-02-28T18:29:00+08:00">
                2018-02-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Array 对象方法<br><!-- 方法    描述
concat()    连接两个或更多的数组，并返回结果。
join()    把数组的所有元素放入一个字符串。元素通过指定的分隔符进行分隔。
pop()    删除并返回数组的最后一个元素
push()    向数组的末尾添加一个或更多元素，并返回新的长度。
reverse()    颠倒数组中元素的顺序。
shift()    删除并返回数组的第一个元素
slice()    从某个已有的数组返回选定的元素
sort()    对数组的元素进行排序
splice()    删除元素，并向数组添加新元素。
toSource()    返回该对象的源代码。
toString()    把数组转换为字符串，并返回结果。
toLocaleString()    把数组转换为本地数组，并返回结果。
unshift()    向数组的开头添加一个或更多元素，并返回新的长度。
valueOf()    返回数组对象的原始值 --></p>
<a id="more"></a>
<h1 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h1><h2 id="length"><a href="#length" class="headerlink" title="length"></a>length</h2><p>是Array的实例属性。返回或设置一个数组中的元素个数。该值是一个无符号 32-bit 整数，并且总是大于数组最高项的下标。属性的值是一个 0 到 (2^32)-1 的整数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> items = [<span class="string">'shoes'</span>, <span class="string">'shirts'</span>, <span class="string">'socks'</span>, <span class="string">'sweaters'</span>];</div><div class="line">items.length;</div><div class="line"><span class="comment">// 返回 4</span></div></pre></td></tr></table></figure></p>
<h3 id="截断数组"><a href="#截断数组" class="headerlink" title="截断数组"></a>截断数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"><span class="keyword">if</span> (numbers.length &gt; <span class="number">3</span>) &#123;</div><div class="line">  numbers.length = <span class="number">3</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(numbers);</div><div class="line"><span class="comment">// [1, 2, 3]</span></div><div class="line"><span class="built_in">console</span>.log(numbers.length);</div><div class="line"><span class="comment">// 3</span></div></pre></td></tr></table></figure>
<h2 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h2><p>属性表示 Array 构造函数的原型，并允许您向所有Array对象添加新的属性和方法。</p>
<ol>
<li>Array.prototype 本身也是一个 Array(<code>Array.isArray(Array.prototype); // true</code>)</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">如果JavaScript本身不提供 first() 方法，</div><div class="line">添加一个返回数组的第一个元素的新方法。</div><div class="line">*/ </div><div class="line"><span class="keyword">if</span>(!<span class="built_in">Array</span>.prototype.first) &#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.first = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`如果JavaScript本身不提供 first() 方法，添加一个返回数组的第一个元素的新方法。`</span>);</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>[<span class="number">0</span>];</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"><span class="built_in">console</span>.log(numbers.first())</div></pre></td></tr></table></figure>
<h2 id="prototype-unscopables"><a href="#prototype-unscopables" class="headerlink" title="prototype[@@unscopables]"></a>prototype[@@unscopables]</h2><p>以下的代码在 ES5 或更早的版本中能正常工作。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arr[<span class="built_in">Symbol</span>.unscopables]</div></pre></td></tr></table></figure>
<h1 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h1><h2 id="from"><a href="#from" class="headerlink" title="from()"></a>from()</h2><p>方法从一个类似数组或可迭代对象中创建一个新的数组实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> bar = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</div><div class="line"><span class="built_in">Array</span>.from(bar);</div><div class="line"><span class="comment">// ["a", "b", "c"]</span></div><div class="line"></div><div class="line"><span class="built_in">Array</span>.from(<span class="string">'foo'</span>);</div><div class="line"><span class="comment">// ["f", "o", "o"]</span></div></pre></td></tr></table></figure>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.from(arrayLike, mapFn, thisArg)</div><div class="line"></div><div class="line">arrayLike</div><div class="line">	想要转换成数组的伪数组对象或可迭代对象。</div><div class="line">mapFn (可选参数)</div><div class="line">	如果指定了该参数，新数组中的每个元素会执行该回调函数。</div><div class="line">thisArg (可选参数)</div><div class="line">	可选参数，执行回调函数 mapFn 时 <span class="keyword">this</span> 对象。</div></pre></td></tr></table></figure>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><blockquote>
<p>Array from a String</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.from(<span class="string">'foo'</span>); </div><div class="line"><span class="comment">// ["f", "o", "o"]</span></div></pre></td></tr></table></figure>
<blockquote>
<p>Array from a Set</p>
</blockquote>
<p>ES6提供了新的数据结构Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'foo'</span>, <span class="built_in">window</span>]); </div><div class="line"><span class="built_in">Array</span>.from(s); </div><div class="line"><span class="comment">// ["foo", window]</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>Array from a Map</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">4</span>], [<span class="number">4</span>, <span class="number">8</span>]]);</div><div class="line"><span class="built_in">Array</span>.from(m); </div><div class="line"><span class="comment">// [[1, 2], [2, 4], [4, 8]]</span></div></pre></td></tr></table></figure>
<blockquote>
<p>Array from an Array-like object (arguments)</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</div><div class="line">&#125;</div><div class="line">f(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</div><div class="line"></div><div class="line"><span class="comment">// [1, 2, 3]</span></div></pre></td></tr></table></figure>
<blockquote>
<p>Using arrow functions and Array.from</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.from([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], x =&gt; x + x);      </div><div class="line"><span class="comment">// [2, 4, 6]</span></div><div class="line"></div><div class="line">对象长度为<span class="number">5</span></div><div class="line"><span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">5</span>&#125;);</div><div class="line"><span class="comment">// [undefined, undefined, undefined, undefined, undefined]</span></div><div class="line"></div><div class="line"><span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">5</span>&#125;, (v, i) =&gt; i); <span class="comment">// v 为undefined</span></div><div class="line"><span class="comment">// [0, 1, 2, 3, 4]</span></div></pre></td></tr></table></figure>
<blockquote>
<p>多数组去重合并</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">combine</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> arr = [].concat.apply([], <span class="built_in">arguments</span>);</div><div class="line">  <span class="comment">//没有去重复的新数组</span></div><div class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr));</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> m = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>], n = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>];</div><div class="line"><span class="built_in">console</span>.log(combine(m,n));</div><div class="line"><span class="comment">// [1, 2, 3]</span></div></pre></td></tr></table></figure>
<h3 id="ECMA-262"><a href="#ECMA-262" class="headerlink" title="ECMA-262"></a>ECMA-262</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Production steps of ECMA-262, Edition 6, 22.1.2.1</span></div><div class="line"><span class="comment">// Reference: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-array.from</span></div><div class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.from) &#123;</div><div class="line">  <span class="built_in">Array</span>.from = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> toStr = <span class="built_in">Object</span>.prototype.toString;</div><div class="line">    <span class="keyword">var</span> isCallable = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">typeof</span> fn === <span class="string">'function'</span> || toStr.call(fn) === <span class="string">'[object Function]'</span>;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">var</span> toInteger = <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> number = <span class="built_in">Number</span>(value);</div><div class="line">      <span class="keyword">if</span> (<span class="built_in">isNaN</span>(number)) &#123; <span class="keyword">return</span> <span class="number">0</span>; &#125;</div><div class="line">      <span class="keyword">if</span> (number === <span class="number">0</span> || !<span class="built_in">isFinite</span>(number)) &#123; <span class="keyword">return</span> number; &#125;</div><div class="line">      <span class="keyword">return</span> (number &gt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">-1</span>) * <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.abs(number));</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">var</span> maxSafeInteger = <span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">53</span>) - <span class="number">1</span>;</div><div class="line">    <span class="keyword">var</span> toLength = <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> len = toInteger(value);</div><div class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.min(<span class="built_in">Math</span>.max(len, <span class="number">0</span>), maxSafeInteger);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// The length property of the from method is 1.</span></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">from</span>(<span class="params">arrayLike<span class="regexp">/*, mapFn, thisArg */</span></span>) </span>&#123;</div><div class="line">      <span class="comment">// 1. Let C be the this value.</span></div><div class="line">      <span class="keyword">var</span> C = <span class="keyword">this</span>;</div><div class="line">      <span class="comment">// 2. Let items be ToObject(arrayLike).</span></div><div class="line">      <span class="keyword">var</span> items = <span class="built_in">Object</span>(arrayLike);</div><div class="line">      <span class="comment">// 3. ReturnIfAbrupt(items).</span></div><div class="line">      <span class="keyword">if</span> (arrayLike == <span class="literal">null</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">"Array.from requires an array-like object - not null or undefined"</span>);</div><div class="line">      &#125;</div><div class="line">      <span class="comment">// 4. If mapfn is undefined, then let mapping be false.</span></div><div class="line">      <span class="keyword">var</span> mapFn = <span class="built_in">arguments</span>.length &gt; <span class="number">1</span> ? <span class="built_in">arguments</span>[<span class="number">1</span>] : <span class="keyword">void</span> <span class="literal">undefined</span>;</div><div class="line">      <span class="keyword">var</span> T;</div><div class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> mapFn !== <span class="string">'undefined'</span>) &#123;</div><div class="line">        <span class="comment">// 5. else      </span></div><div class="line">        <span class="comment">// 5. a If IsCallable(mapfn) is false, throw a TypeError exception.</span></div><div class="line">        <span class="keyword">if</span> (!isCallable(mapFn)) &#123;</div><div class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'Array.from: when provided, the second argument must be a function'</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.</span></div><div class="line">        <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &gt; <span class="number">2</span>) &#123;</div><div class="line">          T = <span class="built_in">arguments</span>[<span class="number">2</span>];</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      <span class="comment">// 10. Let lenValue be Get(items, "length").</span></div><div class="line">      <span class="comment">// 11. Let len be ToLength(lenValue).</span></div><div class="line">      <span class="keyword">var</span> len = toLength(items.length);</div><div class="line">      <span class="comment">// 13. If IsConstructor(C) is true, then</span></div><div class="line">      <span class="comment">// 13. a. Let A be the result of calling the [[Construct]] internal method </span></div><div class="line">      <span class="comment">// of C with an argument list containing the single item len.</span></div><div class="line">      <span class="comment">// 14. a. Else, Let A be ArrayCreate(len).</span></div><div class="line">      <span class="keyword">var</span> A = isCallable(C) ? <span class="built_in">Object</span>(<span class="keyword">new</span> C(len)) : <span class="keyword">new</span> <span class="built_in">Array</span>(len);</div><div class="line">      <span class="comment">// 16. Let k be 0.</span></div><div class="line">      <span class="keyword">var</span> k = <span class="number">0</span>;</div><div class="line">      <span class="comment">// 17. Repeat, while k &lt; len… (also steps a - h)</span></div><div class="line">      <span class="keyword">var</span> kValue;</div><div class="line">      <span class="keyword">while</span> (k &lt; len) &#123;</div><div class="line">        kValue = items[k];</div><div class="line">        <span class="keyword">if</span> (mapFn) &#123;</div><div class="line">          A[k] = <span class="keyword">typeof</span> T === <span class="string">'undefined'</span> ? mapFn(kValue, k) : mapFn.call(T, kValue, k);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">          A[k] = kValue;</div><div class="line">        &#125;</div><div class="line">        k += <span class="number">1</span>;</div><div class="line">      &#125;</div><div class="line">      <span class="comment">// 18. Let putStatus be Put(A, "length", len, true).</span></div><div class="line">      A.length = len;</div><div class="line">      <span class="comment">// 20. Return A.</span></div><div class="line">      <span class="keyword">return</span> A;</div><div class="line">    &#125;;</div><div class="line">  &#125;());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="isArray"><a href="#isArray" class="headerlink" title="isArray()"></a>isArray()</h2><p>用于确定传递的值是否是一个 Array。如果对象是 Array ，则返回true，否则为false。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.isArray([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);  </div><div class="line"><span class="comment">// true</span></div><div class="line"><span class="built_in">Array</span>.isArray(&#123;<span class="attr">foo</span>: <span class="number">123</span>&#125;); </div><div class="line"><span class="comment">// false</span></div><div class="line"><span class="built_in">Array</span>.isArray(<span class="string">"foobar"</span>);   </div><div class="line"><span class="comment">// false</span></div><div class="line"><span class="built_in">Array</span>.isArray(<span class="literal">undefined</span>);  </div><div class="line"><span class="comment">// false</span></div><div class="line"><span class="number">5957096715082514</span></div><div class="line"><span class="comment">// 下面的函数调用都返回 true</span></div><div class="line"><span class="built_in">Array</span>.isArray([]);</div><div class="line"><span class="built_in">Array</span>.isArray([<span class="number">1</span>]);</div><div class="line"><span class="built_in">Array</span>.isArray(<span class="keyword">new</span> <span class="built_in">Array</span>());</div><div class="line"><span class="comment">// 鲜为人知的事实：其实 Array.prototype 也是一个数组。</span></div><div class="line"><span class="built_in">Array</span>.isArray(<span class="built_in">Array</span>.prototype); </div><div class="line"></div><div class="line"><span class="comment">// 下面的函数调用都返回 false</span></div><div class="line"><span class="built_in">Array</span>.isArray();</div><div class="line"><span class="built_in">Array</span>.isArray(&#123;&#125;);</div><div class="line"><span class="built_in">Array</span>.isArray(<span class="literal">null</span>);</div><div class="line"><span class="built_in">Array</span>.isArray(<span class="literal">undefined</span>);</div><div class="line"><span class="built_in">Array</span>.isArray(<span class="number">17</span>);</div><div class="line"><span class="built_in">Array</span>.isArray(<span class="string">'Array'</span>);</div><div class="line"><span class="built_in">Array</span>.isArray(<span class="literal">true</span>);</div><div class="line"><span class="built_in">Array</span>.isArray(<span class="literal">false</span>);</div><div class="line"><span class="built_in">Array</span>.isArray(&#123; <span class="attr">__proto__</span>: <span class="built_in">Array</span>.prototype &#125;);</div></pre></td></tr></table></figure>
<h3 id="instanceof与isArray"><a href="#instanceof与isArray" class="headerlink" title="instanceof与isArray"></a>instanceof与isArray</h3><p>当检测Array实例时, Array.isArray 优于 instanceof,因为Array.isArray能检测iframes.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</div><div class="line"><span class="built_in">document</span>.body.appendChild(iframe);</div><div class="line">xArray = <span class="built_in">window</span>.frames[<span class="built_in">window</span>.frames.length<span class="number">-1</span>].Array;</div><div class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> xArray(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>); <span class="comment">// [1,2,3]</span></div><div class="line"></div><div class="line"><span class="comment">// Correctly checking for Array</span></div><div class="line"><span class="built_in">Array</span>.isArray(arr);  <span class="comment">// true</span></div><div class="line"><span class="comment">// Considered harmful, because doesn't work though iframes</span></div><div class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// false</span></div></pre></td></tr></table></figure></p>
<h2 id="of"><a href="#of" class="headerlink" title="of()"></a>of()</h2><p>方法创建一个具有可变数量参数的新数组实例，而不考虑参数的数量或类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.of(<span class="number">7</span>); <span class="comment">// [7]</span></div><div class="line"><span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// [1, 2, 3]</span></div><div class="line"><span class="built_in">Array</span>.of(<span class="literal">undefined</span>); <span class="comment">// [undefined]</span></div><div class="line"></div><div class="line"><span class="built_in">Array</span>(<span class="number">7</span>); <span class="comment">// [ , , , , , , ]</span></div><div class="line"><span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// [1, 2, 3]</span></div></pre></td></tr></table></figure>
<p> Array.of() 和 Array 构造函数之间的区别在于处理整数参数：Array.of(7) 创建一个具有单个元素 7 的数组，而 Array(7) 创建一个包含 7 个 undefined 元素的数组。</p>
<h3 id="兼容旧环境"><a href="#兼容旧环境" class="headerlink" title="兼容旧环境"></a>兼容旧环境</h3><p>如果原生不支持的话，在其他代码之前执行以下代码会创建 Array.of() 。<br>if (!Array.of) {<br>  Array.of = function() {<br>    return Array.prototype.slice.call(arguments);<br>  };<br>}</p>
<h2 id="concat"><a href="#concat" class="headerlink" title="concat()"></a>concat()</h2><p>方法用于合并两个或多个数组。此方法不会更改现有数组，而是返回一个新数组。</p>
<ol>
<li>concat方法不会改变this或任何作为参数提供的数组，而是返回一个浅拷贝，它包含与原始数组相结合的相同元素的副本。 </li>
<li>如果引用的对象被修改，则更改对于新数组和原始数组都是可见的。 这包括也是数组的数组参数的元素。</li>
<li>concat将对象引用复制到新数组中。 原始数组和新数组都引用相同的对象。</li>
<li>数据类型如字符串，数字和布尔（不是String，Number 和 Boolean 对象）：concat将字符串和数字的值复制到新数组中。</li>
<li>数组/值在连接时保持不变。此外，对于新数组的任何操作（仅当元素不是对象引用时）都不会对原始数组产生影响，反之亦然。</li>
</ol>
<h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> new_array = old_array.concat(value1[, value2[, ...[, valueN]]])</div></pre></td></tr></table></figure>
<h3 id="连接两个数组"><a href="#连接两个数组" class="headerlink" title="连接两个数组"></a>连接两个数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> alpha = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</div><div class="line"><span class="keyword">var</span> numeric = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line"></div><div class="line">alpha.concat(numeric);</div><div class="line"><span class="comment">// ['a', 'b', 'c', 1, 2, 3]</span></div><div class="line"></div><div class="line">[].concat([<span class="number">1</span>], <span class="number">1</span>, <span class="number">2</span>, [<span class="number">2</span>])</div><div class="line"><span class="comment">// [1, 1, 2, 2]</span></div></pre></td></tr></table></figure>
<h3 id="连接三个数组"><a href="#连接三个数组" class="headerlink" title="连接三个数组"></a>连接三个数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</div><div class="line">    num2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</div><div class="line">    num3 = [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> nums = num1.concat(num2, num3);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(nums); </div><div class="line"><span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></div></pre></td></tr></table></figure>
<h3 id="将值连接到数组"><a href="#将值连接到数组" class="headerlink" title="将值连接到数组"></a>将值连接到数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> alpha = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> alphaNumeric = alpha.concat(<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>]);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(alphaNumeric); </div><div class="line"><span class="comment">// ['a', 'b', 'c', 1, 2, 3]</span></div></pre></td></tr></table></figure>
<h3 id="合并嵌套数组"><a href="#合并嵌套数组" class="headerlink" title="合并嵌套数组"></a>合并嵌套数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num1 = [[<span class="number">1</span>]];</div><div class="line"><span class="keyword">var</span> num2 = [<span class="number">2</span>, [<span class="number">3</span>]];</div><div class="line"></div><div class="line"><span class="keyword">var</span> nums = num1.concat(num2);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(nums);</div><div class="line"><span class="comment">// results in [[1], 2, [3]]</span></div><div class="line"></div><div class="line"><span class="comment">// 修改第一个对象num1</span></div><div class="line">num1[<span class="number">0</span>].push(<span class="number">4</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(nums);</div><div class="line"><span class="comment">// [[1, 4], 2, [3]]</span></div></pre></td></tr></table></figure>
<h3 id="concat-apply"><a href="#concat-apply" class="headerlink" title="concat.apply"></a>concat.apply</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log([].concat(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));</div><div class="line"><span class="comment">// [1, 2, 3]</span></div><div class="line"><span class="built_in">console</span>.log([].concat([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]));</div><div class="line"><span class="comment">// [1, 2, 3]</span></div><div class="line"><span class="built_in">console</span>.log([].concat.apply([<span class="number">1</span>, [<span class="number">1</span>]], [<span class="number">2</span>, [<span class="number">3</span>]]));</div><div class="line"><span class="comment">// [1, [1], 2, 3]</span></div><div class="line"><span class="built_in">console</span>.log([].concat([<span class="number">1</span>], [<span class="number">2</span>, [<span class="number">3</span>]]));</div><div class="line"><span class="comment">// [1, 2, [3]]</span></div><div class="line"><span class="built_in">console</span>.log([].concat.apply([<span class="number">1</span>], [<span class="number">2</span>, [<span class="number">3</span>]]));</div><div class="line"><span class="comment">// [1, 2, 3]</span></div><div class="line"><span class="built_in">console</span>.log([].concat.apply([<span class="number">1</span>, [<span class="number">1</span>]], [[<span class="number">3</span>]]));</div><div class="line"><span class="comment">// [1, Array(1), 3]</span></div><div class="line"><span class="built_in">console</span>.log([].concat.apply([<span class="number">1</span>], [[<span class="number">3</span>]], [[<span class="number">2</span>]]));</div><div class="line"><span class="comment">// [1, 3]</span></div></pre></td></tr></table></figure>
<h2 id="concat-apply-1"><a href="#concat-apply-1" class="headerlink" title="concat.apply()"></a>concat.apply()</h2><p>为什么使用apply方法和没有使用apply方法会有区别？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log([<span class="string">'12'</span>].concat([<span class="number">1</span>], [<span class="number">2</span>], [<span class="number">3</span>]));</div><div class="line"><span class="comment">// ['12', 1, 2, 3]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.prototype.concat.apply([<span class="string">'12'</span>], [[<span class="number">1</span>], [<span class="number">2</span>], [<span class="number">3</span>]]));</div><div class="line"><span class="comment">// ['12', 1, 2, 3]</span></div></pre></td></tr></table></figure>
<p>从上面对比的例子可以看出，原理实际上就是[‘12’]这个Array使用了数组的concat方法，接收[1], [2], [3]三个参数。</p>
<ol>
<li>第一个参数，改变this指向（函数执行时所在的作用域）</li>
<li>第二个参数，以数组作为函数执行时的参数</li>
</ol>
<h2 id="数组元素合并"><a href="#数组元素合并" class="headerlink" title="数组元素合并"></a>数组元素合并</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> flatten = <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>)</span>&#123;</div><div class="line"> <span class="keyword">return</span> [].concat.apply([],arr);</div><div class="line">&#125;;</div><div class="line">flatten([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">2</span>]])</div><div class="line"><span class="comment">// [1, 2, 1, 2]</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> flatten = <span class="function"><span class="keyword">function</span> (<span class="params">array</span>)</span>&#123;</div><div class="line"> <span class="keyword">return</span> array.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>) </span>&#123;</div><div class="line">	 <span class="keyword">return</span> a.concat(b);</div><div class="line"> &#125;,[])</div><div class="line">&#125;</div><div class="line">flatten([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">2</span>]])</div></pre></td></tr></table></figure>
<h2 id="copyWithin"><a href="#copyWithin" class="headerlink" title="copyWithin()"></a>copyWithin()</h2><p>方法浅复制数组的一部分到同一数组中的另一个位置，并返回它，而不修改其大小。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"alpha"</span>, <span class="string">"beta"</span>, <span class="string">"copy"</span>, <span class="string">"delta"</span>].copyWithin(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</div><div class="line"><span class="comment">// 0:"alpha" 1:"beta" 2:"copy" 3:"delta"</span></div><div class="line"><span class="comment">// ["alpha", "copy", "copy", "delta"]</span></div><div class="line"><span class="comment">// 0:"alpha" 1:"copy" 2:"copy" 3:"delta"</span></div><div class="line"></div><div class="line"><span class="comment">// target === 1:"beta"</span></div><div class="line"><span class="comment">// start === 2:"copy", </span></div><div class="line"><span class="comment">// end === 3:"delta"</span></div><div class="line"></div><div class="line"><span class="comment">// 1:"beta" =&gt; 1:"copy"</span></div><div class="line"></div><div class="line">[<span class="string">'alpha'</span>, <span class="string">'bravo'</span>, <span class="string">'charlie'</span>, <span class="string">'delta'</span>].copyWithin(<span class="number">2</span>, <span class="number">0</span>);</div><div class="line"></div><div class="line"><span class="comment">// results in ["alpha", "bravo", "alpha", "bravo"]</span></div></pre></td></tr></table></figure>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">arr.copyWithin(target, start, end)</div><div class="line">arr.copyWithin(目标索引, [源开始索引], [结束源索引])</div></pre></td></tr></table></figure>
<ol>
<li>target<br>0 为基底的索引，复制序列到该位置。如果是负数，target 将从末尾开始计算。<br>如果 target 大于等于 arr.length，将会不发生拷贝。如果 target 在 start 之后，复制的序列将被修改以符合 arr.length。</li>
<li>start<br>0 为基底的索引，开始复制元素的起始位置。如果是负数，start 将从末尾开始计算。<br>如果 start 被忽略，copyWithin 将会从0开始复制。</li>
<li>end<br>0 为基底的索引，开始复制元素的结束位置。copyWithin 将会拷贝到该位置，但不包括 end 这个位置的元素。如果是负数， end 将从末尾开始计算。<br>如果 end 被忽略，copyWithin 将会复制到 arr.length。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">1</span>);</div><div class="line"><span class="comment">// [1, 1, 2, 3, 4]</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">2</span>);</div><div class="line"><span class="comment">// [1, 2, 1, 2, 3]</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">-2</span>);</div><div class="line"><span class="comment">// [1, 2, 3, 1, 2]</span></div></pre></td></tr></table></figure>
<ol>
<li>基底为0，复杂序列到该位置</li>
<li>如果是负数，target 将从末尾开始计算位置</li>
<li>默认start为0，连接全部内容</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">1</span>, <span class="number">0</span>);</div><div class="line"><span class="comment">// [1, 1, 2, 3, 4]</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">1</span>, <span class="number">3</span>);</div><div class="line"><span class="comment">// [1, 4, 5, 4, 5]</span></div><div class="line"></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">3</span>);</div><div class="line"><span class="comment">// [4, 5, 3, 4, 5]</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">3</span>, <span class="number">2</span>);</div><div class="line"><span class="comment">// [1, 2, 3, 3, 4]</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">1</span>, <span class="number">2</span>);</div><div class="line"><span class="comment">// [1, 3, 4, 5, 5]</span></div></pre></td></tr></table></figure>
<ol>
<li>当替换的内容小于length时，原有的内容保持。</li>
<li>开始复制元素的起始位置之后的内容。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>);</div><div class="line"><span class="comment">// [4, 2, 3, 4, 5]</span></div><div class="line"></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">-2</span>, <span class="number">-3</span>, <span class="number">-1</span>);</div><div class="line"><span class="comment">// [1, 2, 3, 3, 4]</span></div><div class="line"></div><div class="line">[].copyWithin.call(&#123;<span class="attr">length</span>: <span class="number">5</span>, <span class="number">3</span>: <span class="number">1</span>&#125;, <span class="number">0</span>, <span class="number">3</span>);</div><div class="line"><span class="comment">// &#123;0: 1, 3: 1, length: 5&#125;</span></div><div class="line"></div><div class="line"><span class="comment">// ES2015 Typed Arrays are subclasses of Array</span></div><div class="line"><span class="keyword">var</span> i32a = <span class="keyword">new</span> <span class="built_in">Int32Array</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]);</div><div class="line">i32a.copyWithin(<span class="number">0</span>, <span class="number">2</span>);</div><div class="line"><span class="comment">// Int32Array [3, 4, 5, 4, 5]</span></div><div class="line"></div><div class="line"><span class="comment">// On platforms that are not yet ES2015 compliant:</span></div><div class="line">[].copyWithin.call(<span class="keyword">new</span> <span class="built_in">Int32Array</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]), <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>);</div><div class="line"><span class="comment">// Int32Array [4, 2, 3, 4, 5]</span></div></pre></td></tr></table></figure>
<h3 id="兼容旧环境（Polyfill）"><a href="#兼容旧环境（Polyfill）" class="headerlink" title="兼容旧环境（Polyfill）"></a>兼容旧环境（Polyfill）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.prototype.copyWithin) &#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.copyWithin = <span class="function"><span class="keyword">function</span>(<span class="params">target, start<span class="regexp">/*, end*/</span></span>) </span>&#123;</div><div class="line">    <span class="comment">// Steps 1-2.</span></div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == <span class="literal">null</span>) &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'this is null or not defined'</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> O = <span class="built_in">Object</span>(<span class="keyword">this</span>);</div><div class="line">    <span class="comment">// Steps 3-5.</span></div><div class="line">    <span class="keyword">var</span> len = O.length &gt;&gt;&gt; <span class="number">0</span>;</div><div class="line">    <span class="comment">// Steps 6-8.</span></div><div class="line">    <span class="keyword">var</span> relativeTarget = target &gt;&gt; <span class="number">0</span>;</div><div class="line">    <span class="keyword">var</span> to = relativeTarget &lt; <span class="number">0</span> ?</div><div class="line">      <span class="built_in">Math</span>.max(len + relativeTarget, <span class="number">0</span>) :</div><div class="line">      <span class="built_in">Math</span>.min(relativeTarget, len);</div><div class="line">    <span class="comment">// Steps 9-11.</span></div><div class="line">    <span class="keyword">var</span> relativeStart = start &gt;&gt; <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> <span class="keyword">from</span> = relativeStart &lt; <span class="number">0</span> ?</div><div class="line">      <span class="built_in">Math</span>.max(len + relativeStart, <span class="number">0</span>) :</div><div class="line">      <span class="built_in">Math</span>.min(relativeStart, len);</div><div class="line"></div><div class="line">    <span class="comment">// Steps 12-14.</span></div><div class="line">    <span class="keyword">var</span> end = <span class="built_in">arguments</span>[<span class="number">2</span>];</div><div class="line">    <span class="keyword">var</span> relativeEnd = end === <span class="literal">undefined</span> ? len : end &gt;&gt; <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> final = relativeEnd &lt; <span class="number">0</span> ?</div><div class="line">      <span class="built_in">Math</span>.max(len + relativeEnd, <span class="number">0</span>) :</div><div class="line">      <span class="built_in">Math</span>.min(relativeEnd, len);</div><div class="line"></div><div class="line">    <span class="comment">// Step 15.</span></div><div class="line">    <span class="keyword">var</span> count = <span class="built_in">Math</span>.min(final - <span class="keyword">from</span>, len - to);</div><div class="line"></div><div class="line">    <span class="comment">// Steps 16-17.</span></div><div class="line">    <span class="keyword">var</span> direction = <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (<span class="keyword">from</span> &lt; to &amp;&amp; to &lt; (<span class="keyword">from</span> + count)) &#123;</div><div class="line">      direction = <span class="number">-1</span>;</div><div class="line">      <span class="keyword">from</span> += count - <span class="number">1</span>;</div><div class="line">      to += count - <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Step 18.</span></div><div class="line">    <span class="keyword">while</span> (count &gt; <span class="number">0</span>) &#123;</div><div class="line">      <span class="keyword">if</span> (<span class="keyword">from</span> <span class="keyword">in</span> O) &#123;</div><div class="line">        O[to] = O[<span class="keyword">from</span>];</div><div class="line">      &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">delete</span> O[to];</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="keyword">from</span> += direction;</div><div class="line">      to += direction;</div><div class="line">      count--;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Step 19.</span></div><div class="line">    <span class="keyword">return</span> O;</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="思考：如何用-splice-实现-copyWithin？"><a href="#思考：如何用-splice-实现-copyWithin？" class="headerlink" title="思考：如何用 splice 实现 copyWithin？"></a>思考：如何用 splice 实现 copyWithin？</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">copyWithins</div></pre></td></tr></table></figure>
<h2 id="entries"><a href="#entries" class="headerlink" title="entries()"></a>entries()</h2><p>方法返回一个新的Array Iterator对象，该对象包含数组中每个索引的键/值对。<br>一个新的 Array 迭代器对象。Array Iterator是对象，它的原型（<strong>proto</strong>:Array Iterator）上有一个next方法，可用用于遍历迭代器取得原数组的[key,value]。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</div><div class="line"><span class="keyword">var</span> iterator = arr.entries();</div><div class="line"><span class="comment">// undefined</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(iterator);</div><div class="line"><span class="comment">// Array Iterator &#123;&#125;</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(iterator.next().value); </div><div class="line"><span class="comment">// [0, "a"]</span></div><div class="line"><span class="built_in">console</span>.log(iterator.next().value); </div><div class="line"><span class="comment">// [1, "b"]</span></div><div class="line"><span class="built_in">console</span>.log(iterator.next().value); </div><div class="line"><span class="comment">// [2, "c"]</span></div></pre></td></tr></table></figure>
<h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><h4 id="Array-Iterator"><a href="#Array-Iterator" class="headerlink" title="Array Iterator"></a>Array Iterator</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</div><div class="line"><span class="keyword">var</span> iterator = arr.entries();</div><div class="line"><span class="built_in">console</span>.log(iterator);</div><div class="line"></div><div class="line"><span class="comment">/*Array Iterator &#123;&#125;</span></div><div class="line">         __proto__:Array Iterator</div><div class="line">         next:ƒ next()</div><div class="line">         Symbol(Symbol.toStringTag):"Array Iterator"</div><div class="line">         __proto__:Object</div><div class="line">*/</div></pre></td></tr></table></figure>
<h4 id="iterator-next"><a href="#iterator-next" class="headerlink" title="iterator.next()"></a>iterator.next()</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>]; </div><div class="line"><span class="keyword">var</span> iterator = arr.entries();</div><div class="line"><span class="built_in">console</span>.log(iterator.next());</div><div class="line"></div><div class="line"><span class="comment">/*&#123;value: Array(2), done: false&#125;</span></div><div class="line">          done:false</div><div class="line">          value:(2) [0, "a"]</div><div class="line">           __proto__: Object</div><div class="line">*/</div><div class="line"><span class="comment">// iterator.next()返回一个对象，对于有元素的数组，</span></div><div class="line"><span class="comment">// 是next&#123; value: Array(2), done: false &#125;；</span></div><div class="line"><span class="comment">// next.done 用于指示迭代器是否完成：在每次迭代时进行更新而且都是false，</span></div><div class="line"><span class="comment">// 直到迭代器结束done才是true。</span></div><div class="line"><span class="comment">// next.value是一个["key":"value"]的数组，是返回的迭代器中的元素值。</span></div></pre></td></tr></table></figure>
<h4 id="iterator-next方法运行"><a href="#iterator-next方法运行" class="headerlink" title="iterator.next方法运行"></a>iterator.next方法运行</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</div><div class="line"><span class="keyword">var</span> iter = arr.entries();</div><div class="line"><span class="keyword">var</span> a = [];</div><div class="line"></div><div class="line"><span class="comment">// for(var i=0; i&lt; arr.length; i++)&#123;   // 实际使用的是这个 </span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt; arr.length+<span class="number">1</span>; i++)&#123;    <span class="comment">// 注意，是length+1，比数组的长度大</span></div><div class="line">    <span class="keyword">var</span> tem = iter.next();             <span class="comment">// 每次迭代时更新next</span></div><div class="line">    <span class="built_in">console</span>.log(tem.done);             <span class="comment">// 这里可以看到更新后的done都是false</span></div><div class="line">    <span class="keyword">if</span>(tem.done !== <span class="literal">true</span>)&#123;             <span class="comment">// 遍历迭代器结束done才是true</span></div><div class="line">        <span class="built_in">console</span>.log(tem.value);</div><div class="line">        a[i]=tem.value;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">    </div><div class="line"><span class="built_in">console</span>.log(a);                         <span class="comment">// 遍历完毕，输出next.value的数组</span></div></pre></td></tr></table></figure>
<h4 id="二维数组按行排序"><a href="#二维数组按行排序" class="headerlink" title="二维数组按行排序"></a>二维数组按行排序</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortArr</span>(<span class="params">arr</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> goNext = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">var</span> entries = arr.entries();</div><div class="line">    <span class="keyword">while</span> (goNext) &#123;</div><div class="line">        <span class="keyword">var</span> result = entries.next();</div><div class="line">        <span class="keyword">if</span> (result.done !== <span class="literal">true</span>) &#123;</div><div class="line">            result.value[<span class="number">1</span>].sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</div><div class="line">            goNext = <span class="literal">true</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            goNext = <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> arr;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [[<span class="number">1</span>,<span class="number">34</span>],[<span class="number">456</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">44</span>,<span class="number">234</span>],[<span class="number">4567</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">34</span>,<span class="number">78</span>,<span class="number">23</span>,<span class="number">1</span>]];</div><div class="line">sortArr(arr);</div><div class="line"></div><div class="line"><span class="comment">/*(4) [Array(2), Array(5), Array(5), Array(4)]</span></div><div class="line">    0:(2) [1, 34]</div><div class="line">    1:(5) [2, 3, 44, 234, 456]</div><div class="line">    2:(5) [1, 4, 5, 6, 4567]</div><div class="line">    3:(4) [1, 23, 34, 78]</div><div class="line">    length:4</div><div class="line">    __proto__:Array(0)</div><div class="line">*/</div></pre></td></tr></table></figure>
<h4 id="使用for…of-循环"><a href="#使用for…of-循环" class="headerlink" title="使用for…of 循环"></a>使用for…of 循环</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</div><div class="line"><span class="keyword">var</span> iterator = arr.entries();</div><div class="line"><span class="comment">// undefined</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> e <span class="keyword">of</span> iterator) &#123;</div><div class="line">    <span class="built_in">console</span>.log(e);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// [0, "a"] </span></div><div class="line"><span class="comment">// [1, "b"] </span></div><div class="line"><span class="comment">// [2, "c"]</span></div></pre></td></tr></table></figure>
<h2 id="every"><a href="#every" class="headerlink" title="every()"></a>every()</h2><p>方法测试数组的所有元素是否都通过了指定函数的测试。</p>
<h3 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arr.every(callback[, thisArg])</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBigEnough</span>(<span class="params">element, index, array</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> (element &gt;= <span class="number">10</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> passed = [<span class="number">12</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">130</span>, <span class="number">44</span>].every(isBigEnough);</div><div class="line"><span class="comment">// false</span></div><div class="line">passed = [<span class="number">12</span>, <span class="number">54</span>, <span class="number">18</span>, <span class="number">130</span>, <span class="number">44</span>].every(isBigEnough);</div><div class="line"><span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="兼容旧环境（Polyfill）-1"><a href="#兼容旧环境（Polyfill）-1" class="headerlink" title="兼容旧环境（Polyfill）"></a>兼容旧环境（Polyfill）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.prototype.every) &#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.every = <span class="function"><span class="keyword">function</span>(<span class="params">fun <span class="regexp">/*, thisArg */</span></span>) </span>&#123;</div><div class="line"><span class="meta">    'use strict'</span>;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> === <span class="keyword">void</span> <span class="number">0</span> || <span class="keyword">this</span> === <span class="literal">null</span>)</div><div class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>();</div><div class="line">    <span class="keyword">var</span> t = <span class="built_in">Object</span>(<span class="keyword">this</span>);</div><div class="line">    <span class="keyword">var</span> len = t.length &gt;&gt;&gt; <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> fun !== <span class="string">'function'</span>)</div><div class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>();</div><div class="line">    <span class="keyword">var</span> thisArg = <span class="built_in">arguments</span>.length &gt;= <span class="number">2</span> ? <span class="built_in">arguments</span>[<span class="number">1</span>] : <span class="keyword">void</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</div><div class="line">      <span class="keyword">if</span> (i <span class="keyword">in</span> t &amp;&amp; !fun.call(thisArg, t[i], i, t))</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="fill-！"><a href="#fill-！" class="headerlink" title="fill() ！"></a>fill() ！</h2><p>方法用一个固定值填充一个数组中从起始索引到终止索引内的全部元素。</p>
<h3 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arr.fill(value[, start[, end]])</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</div><div class="line"></div><div class="line"><span class="comment">// fill with 0 from position 2 until position 4</span></div><div class="line"><span class="built_in">console</span>.log(array1.fill(<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>));</div><div class="line"><span class="comment">// expected output: [1, 2, 0, 0]</span></div><div class="line"></div><div class="line"><span class="comment">// fill with 5 from position 1</span></div><div class="line"><span class="built_in">console</span>.log(array1.fill(<span class="number">5</span>, <span class="number">1</span>));</div><div class="line"><span class="comment">// expected output: [1, 5, 5, 5]</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(array1.fill(<span class="number">6</span>));</div><div class="line"><span class="comment">// expected output: [6, 6, 6, 6]</span></div></pre></td></tr></table></figure>
<h3 id="兼容旧环境（Polyfill）-2"><a href="#兼容旧环境（Polyfill）-2" class="headerlink" title="兼容旧环境（Polyfill）"></a>兼容旧环境（Polyfill）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.prototype.fill) &#123;</div><div class="line">  <span class="built_in">Object</span>.defineProperty(<span class="built_in">Array</span>.prototype, <span class="string">'fill'</span>, &#123;</div><div class="line">    <span class="attr">value</span>: <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</div><div class="line">      <span class="comment">// Steps 1-2.</span></div><div class="line">      <span class="keyword">if</span> (<span class="keyword">this</span> == <span class="literal">null</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'this is null or not defined'</span>);</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">var</span> O = <span class="built_in">Object</span>(<span class="keyword">this</span>);</div><div class="line">      <span class="comment">// Steps 3-5.</span></div><div class="line">      <span class="keyword">var</span> len = O.length &gt;&gt;&gt; <span class="number">0</span>;</div><div class="line">      <span class="comment">// Steps 6-7.</span></div><div class="line">      <span class="keyword">var</span> start = <span class="built_in">arguments</span>[<span class="number">1</span>];</div><div class="line">      <span class="keyword">var</span> relativeStart = start &gt;&gt; <span class="number">0</span>;</div><div class="line">      <span class="comment">// Step 8.</span></div><div class="line">      <span class="keyword">var</span> k = relativeStart &lt; <span class="number">0</span> ?</div><div class="line">        <span class="built_in">Math</span>.max(len + relativeStart, <span class="number">0</span>) :</div><div class="line">        <span class="built_in">Math</span>.min(relativeStart, len);</div><div class="line">      <span class="comment">// Steps 9-10.</span></div><div class="line">      <span class="keyword">var</span> end = <span class="built_in">arguments</span>[<span class="number">2</span>];</div><div class="line">      <span class="keyword">var</span> relativeEnd = end === <span class="literal">undefined</span> ?</div><div class="line">        len : end &gt;&gt; <span class="number">0</span>;</div><div class="line">      <span class="comment">// Step 11.</span></div><div class="line">      <span class="keyword">var</span> final = relativeEnd &lt; <span class="number">0</span> ?</div><div class="line">        <span class="built_in">Math</span>.max(len + relativeEnd, <span class="number">0</span>) :</div><div class="line">        <span class="built_in">Math</span>.min(relativeEnd, len);</div><div class="line">      <span class="comment">// Step 12.</span></div><div class="line">      <span class="keyword">while</span> (k &lt; final) &#123;</div><div class="line">        O[k] = value;</div><div class="line">        k++;</div><div class="line">      &#125;</div><div class="line">      <span class="comment">// Step 13.</span></div><div class="line">      <span class="keyword">return</span> O;</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h2><p>Array.filter()</p>
<h2 id="find"><a href="#find" class="headerlink" title="find()"></a>find()</h2><p>Array.find()</p>
<h2 id="findIndex"><a href="#findIndex" class="headerlink" title="findIndex()"></a>findIndex()</h2><p>Array.findIndex()</p>
<h2 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h2><p>Array.forEach()</p>
<h2 id="includes"><a href="#includes" class="headerlink" title="includes()"></a>includes()</h2><p>Array.includes()</p>
<h2 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf()"></a>indexOf()</h2><p>Array.indexOf()</p>
<h2 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h2><p>Array.join()</p>
<h2 id="keys"><a href="#keys" class="headerlink" title="keys()"></a>keys()</h2><p>Array.keys()</p>
<h2 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf()"></a>lastIndexOf()</h2><p>Array.lastIndexOf()</p>
<h2 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h2><p>Array.map()</p>
<h2 id="pop"><a href="#pop" class="headerlink" title="pop()"></a>pop()</h2><p>Array.pop()</p>
<h2 id="push"><a href="#push" class="headerlink" title="push()"></a>push()</h2><p>Array.push()</p>
<h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h2><p>Array.reduce()</p>
<h2 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight()"></a>reduceRight()</h2><p>Array.reduceRight()</p>
<h2 id="reverse"><a href="#reverse" class="headerlink" title="reverse()"></a>reverse()</h2><p>Array.reverse()</p>
<h2 id="shift"><a href="#shift" class="headerlink" title="shift()"></a>shift()</h2><p>Array.shift()</p>
<h2 id="slice"><a href="#slice" class="headerlink" title="slice()"></a>slice()</h2><p>方法返回一个从开始到结束（不包括结束）选择的数组的一部分<code>浅拷贝</code>到一个新数组对象。原始数组不会被修改。</p>
<blockquote>
<p>Array.slice()</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> animals = [<span class="string">'ant'</span>, <span class="string">'bison'</span>, <span class="string">'camel'</span>, <span class="string">'duck'</span>, <span class="string">'elephant'</span>];</div><div class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">2</span>));</div><div class="line"><span class="comment">// ["camel", "duck", "elephant"]</span></div><div class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">2</span>, <span class="number">4</span>));</div><div class="line"><span class="comment">// ["camel", "duck"]</span></div><div class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">1</span>, <span class="number">5</span>));</div><div class="line"><span class="comment">// ["bison", "camel", "duck", "elephant"]</span></div></pre></td></tr></table></figure>
<h3 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">arr.slice();</div><div class="line"><span class="comment">// [0, end]</span></div><div class="line"></div><div class="line">arr.slice(begin);</div><div class="line"><span class="comment">// [begin, end]</span></div><div class="line"></div><div class="line">arr.slice(begin, end);</div><div class="line"><span class="comment">// [begin, end)</span></div></pre></td></tr></table></figure>
<ol>
<li>如果该参数为负数，则表示从原数组中的倒数第几个元素开始提取，slice(-2)表示提取原数组中的倒数第二个元素到最后一个元素（包含最后一个元素）。</li>
<li>返回值，一个含有提取元素的新数组</li>
<li>slice(1,4) 提取原数组中的第二个元素开始直到第四个元素的所有元素 （索引为 1, 2, 3的元素）。</li>
</ol>
<h3 id="类似数组（Array-like）对象"><a href="#类似数组（Array-like）对象" class="headerlink" title="类似数组（Array-like）对象"></a>类似数组（Array-like）对象</h3><p>slice方法可以用来将一个类数组（Array-like）对象/集合转换成一个数组。你只需将该方法绑定到这个对象上。<br>除了使用 Array.prototype.slice.call(arguments)，你也可以简单的使用 [].slice.call(arguments) 来代替。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">list</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</div><div class="line">  <span class="comment">// return [].slice.call(arguments)</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> list1 = list(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</div><div class="line"><span class="comment">// [1, 2, 3]</span></div></pre></td></tr></table></figure>
<p>bind来简化该过程。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> unboundSlice = <span class="built_in">Array</span>.prototype.slice;</div><div class="line"><span class="keyword">var</span> slice = <span class="built_in">Function</span>.prototype.call.bind(unboundSlice);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">list</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> slice(<span class="built_in">arguments</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> list1 = list(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</div><div class="line"><span class="comment">// [1, 2, 3]</span></div></pre></td></tr></table></figure></p>
<h2 id="some"><a href="#some" class="headerlink" title="some()"></a>some()</h2><p>Array.some()</p>
<h2 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h2><p>用就地（ in-place ）的算法对数组的元素进行排序，并返回数组。 sort 排序不一定是稳定的。默认排序顺序是根据字符串Unicode码点。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fruit = [<span class="string">'cherries'</span>, <span class="string">'apples'</span>, <span class="string">'bananas'</span>];</div><div class="line">fruit.sort(); </div><div class="line"><span class="comment">// ['apples', 'bananas', 'cherries']</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> scores = [<span class="number">1</span>, <span class="number">10</span>, <span class="number">21</span>, <span class="number">2</span>]; </div><div class="line">scores.sort(); </div><div class="line"><span class="comment">// [1, 10, 2, 21]</span></div><div class="line"><span class="comment">// 注意10在2之前,</span></div><div class="line"><span class="comment">// 因为在 Unicode 指针顺序中"10"在"2"之前</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> things = [<span class="string">'word'</span>, <span class="string">'Word'</span>, <span class="string">'1 Word'</span>, <span class="string">'2 Words'</span>];</div><div class="line">things.sort(); </div><div class="line"><span class="comment">// ['1 Word', '2 Words', 'Word', 'word']</span></div><div class="line"><span class="comment">// 在Unicode中, 数字在大写字母之前,</span></div><div class="line"><span class="comment">// 大写字母在小写字母之前.</span></div></pre></td></tr></table></figure>
<h3 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">arr.sort() </div><div class="line"></div><div class="line">arr.sort(compareFunction)</div></pre></td></tr></table></figure>
<p>compareFunction<br>可选。用来指定按某种顺序进行排列的函数。如果省略，元素按照转换为的字符串的各个字符的Unicode位点进行排序。</p>
<p>sort 方法可以使用 函数表达式 方便地书写：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> numbers = [<span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>];</div><div class="line">numbers.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> a - b;</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(numbers);</div><div class="line"></div><div class="line">也可以写成：</div><div class="line"><span class="keyword">var</span> numbers = [<span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>]; </div><div class="line">numbers.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b); </div><div class="line"><span class="built_in">console</span>.log(numbers);</div><div class="line"></div><div class="line"><span class="comment">// [1, 2, 3, 4, 5]</span></div></pre></td></tr></table></figure></p>
<h3 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h3><h4 id="创建、显示及排序数组"><a href="#创建、显示及排序数组" class="headerlink" title="创建、显示及排序数组"></a>创建、显示及排序数组</h4><p>下述示例创建了四个数组，并展示原数组。之后对数组进行排序。对比了数字数组分别指定与不指定比较函数的结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> stringArray = [<span class="string">"Blue"</span>, <span class="string">"Humpback"</span>, <span class="string">"Beluga"</span>];</div><div class="line"><span class="keyword">var</span> numericStringArray = [<span class="string">"80"</span>, <span class="string">"9"</span>, <span class="string">"700"</span>];</div><div class="line"><span class="keyword">var</span> numberArray = [<span class="number">40</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">200</span>];</div><div class="line"><span class="keyword">var</span> mixedNumericArray = [<span class="string">"80"</span>, <span class="string">"9"</span>, <span class="string">"700"</span>, <span class="number">40</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">200</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">compareNumbers</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> a - b;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'stringArray:'</span> + stringArray.join());</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Sorted:'</span> + stringArray.sort());</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'numberArray:'</span> + numberArray.join());</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Sorted without a compare function:'</span>+ numberArray.sort());</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Sorted with compareNumbers:'</span>+ numberArray.sort(compareNumbers));</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'numericStringArray:'</span>+ numericStringArray.join());</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Sorted without a compare function:'</span>+ numericStringArray.sort());</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Sorted with compareNumbers:'</span>+ numericStringArray.sort(compareNumbers));</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'mixedNumericArray:'</span>+ mixedNumericArray.join());</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Sorted without a compare function:'</span>+ mixedNumericArray.sort());</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Sorted with compareNumbers:'</span>+ mixedNumericArray.sort(compareNumbers));</div><div class="line">该示例的返回结果如下。输出显示，当使用比较函数后，数字数组会按照数字大小排序。</div><div class="line"></div><div class="line">stringArray: Blue,Humpback,Beluga</div><div class="line">Sorted: Beluga,Blue,Humpback</div><div class="line"></div><div class="line">numberArray: <span class="number">40</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">200</span></div><div class="line">Sorted without a compare <span class="function"><span class="keyword">function</span>: 1,200,40,5</span></div><div class="line"><span class="title">Sorted</span> <span class="title">with</span> <span class="title">compareNumbers</span>: 1,5,40,200</div><div class="line"></div><div class="line"><span class="title">numericStringArray</span>: 80,9,700</div><div class="line"><span class="title">Sorted</span> <span class="title">without</span> <span class="title">a</span> <span class="title">compare</span> <span class="title">function</span>: 700,80,9</div><div class="line"><span class="title">Sorted</span> <span class="title">with</span> <span class="title">compareNumbers</span>: 9,80,700</div><div class="line"></div><div class="line"><span class="title">mixedNumericArray</span>: 80,9,700,40,1,5,200</div><div class="line"><span class="title">Sorted</span> <span class="title">without</span> <span class="title">a</span> <span class="title">compare</span> <span class="title">function</span>: 1,200,40,5,700,80,9</div><div class="line"><span class="title">Sorted</span> <span class="title">with</span> <span class="title">compareNumbers</span>: 1,5,9,40,80,200,700</div></pre></td></tr></table></figure>
<h4 id="对非-ASCII-字符排序"><a href="#对非-ASCII-字符排序" class="headerlink" title="对非 ASCII 字符排序"></a>对非 ASCII 字符排序</h4><p>当排序非 ASCII 字符的字符串（如包含类似 e, é, è, a, ä 等字符的字符串）。一些非英语语言的字符串需要使用 String.localeCompare。这个函数可以将函数排序到正确的顺序。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> items = [<span class="string">'réservé'</span>, <span class="string">'premier'</span>, <span class="string">'cliché'</span>, <span class="string">'communiqué'</span>, <span class="string">'café'</span>, <span class="string">'adieu'</span>];</div><div class="line">items.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> a.localeCompare(b);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// items is ['adieu', 'café', 'cliché', 'communiqué', 'premier', 'réservé']</span></div></pre></td></tr></table></figure>
<h4 id="使用映射改善排序"><a href="#使用映射改善排序" class="headerlink" title="使用映射改善排序"></a>使用映射改善排序</h4><p>compareFunction 可能需要对元素做多次映射以实现排序，尤其当 compareFunction 较为复杂，且元素较多的时候，某些 compareFunction 可能会导致很高的负载。使用 map 辅助排序将会是一个好主意。基本思想是首先将数组中的每个元素比较的实际值取出来，排序后再将数组恢复。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> list = [<span class="string">'Delta'</span>, <span class="string">'alpha'</span>, <span class="string">'CHARLIE'</span>, <span class="string">'bravo'</span>];</div><div class="line"></div><div class="line"><span class="comment">// 对需要排序的数字和位置的临时存储</span></div><div class="line"><span class="keyword">var</span> mapped = list.map(<span class="function"><span class="keyword">function</span>(<span class="params">el, i</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123; <span class="attr">index</span>: i, <span class="attr">value</span>: el.toLowerCase() &#125;;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// 按照多个值排序数组</span></div><div class="line">mapped.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> +(a.value &gt; b.value) || +(a.value === b.value) - <span class="number">1</span>;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 根据索引得到排序的结果</span></div><div class="line"><span class="keyword">var</span> result = mapped.map(<span class="function"><span class="keyword">function</span>(<span class="params">el</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> list[el.index];</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>// 需要被排序的数组</p>
<h2 id="splice"><a href="#splice" class="headerlink" title="splice()"></a>splice()</h2><p>方法通过删除现有元素和/或添加新元素来更改一个数组的内容。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myFish = [<span class="string">'angel'</span>, <span class="string">'clown'</span>, <span class="string">'mandarin'</span>, <span class="string">'sturgeon'</span>];</div><div class="line"></div><div class="line">myFish.splice(<span class="number">2</span>, <span class="number">0</span>, <span class="string">'drum'</span>); <span class="comment">// 在索引为2的位置插入'drum'</span></div><div class="line"><span class="comment">// myFish 变为 ["angel", "clown", "drum", "mandarin", "sturgeon"]</span></div><div class="line"></div><div class="line">myFish.splice(<span class="number">2</span>, <span class="number">1</span>); <span class="comment">// 从索引为2的位置删除一项（也就是'drum'这一项）</span></div><div class="line"><span class="comment">// myFish 变为 ["angel", "clown", "mandarin", "sturgeon"]</span></div></pre></td></tr></table></figure>
<h3 id="语法-6"><a href="#语法-6" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">array.splice(start)</div><div class="line"></div><div class="line">array.splice(start, deleteCount) </div><div class="line"></div><div class="line">array.splice(start, deleteCount, item1, item2, ...)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myFish = [<span class="string">'angel'</span>, <span class="string">'clown'</span>, <span class="string">'trumpet'</span>, <span class="string">'sturgeon'</span>];</div><div class="line"><span class="keyword">var</span> removed = myFish.splice(<span class="number">0</span>, <span class="number">2</span>, <span class="string">'parrot'</span>, <span class="string">'anemone'</span>, <span class="string">'blue'</span>);</div><div class="line"><span class="comment">// 运算后的myFish： ["parrot", "anemone", "blue", "trumpet", "sturgeon"] </span></div><div class="line"><span class="comment">// 被删除元素数组：["angel", "clown"]</span></div></pre></td></tr></table></figure>
<h2 id="toLocaleString-NaN"><a href="#toLocaleString-NaN" class="headerlink" title="toLocaleString()"></a>toLocaleString()</h2><p>返回一个字符串表示数组中的元素。数组中的元素将使用各自的 toLocaleString 方法转成字符串，这些字符串将使用一个特定语言环境的字符串（例如一个逗号 “,”）隔开。</p>
<blockquote>
<p>数组中的元素将会使用各自的 toLocaleString 方法：</p>
</blockquote>
<ol>
<li>Object: Object.prototype.toLocaleString()</li>
<li>Number: Number.prototype.toLocaleString()</li>
<li>Date: Date.prototype.toLocaleString()</li>
</ol>
<h3 id="使用-toLocaleString"><a href="#使用-toLocaleString" class="headerlink" title="使用 toLocaleString"></a>使用 toLocaleString</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> number = <span class="number">1337</span>;</div><div class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="keyword">var</span> myArr = [number, date, <span class="string">"foo"</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> str = myArr.toLocaleString(); </div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(str); </div><div class="line"><span class="comment">// 输出 "1,337,2017/8/13 下午8:32:24,foo"</span></div><div class="line"><span class="comment">// 假定运行在中文（zh-CN）环境，北京时区</span></div></pre></td></tr></table></figure>
<h2 id="toSource-！"><a href="#toSource-！" class="headerlink" title="toSource() ！"></a>toSource() ！</h2><p>Array.toSource()</p>
<h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h2><p>返回一个字符串，表示指定的数组及其元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> monthNames = [<span class="string">'Jan'</span>, <span class="string">'Feb'</span>, <span class="string">'Mar'</span>, <span class="string">'Apr'</span>];</div><div class="line"><span class="keyword">var</span> myVar = monthNames.toString(); <span class="comment">// assigns "Jan,Feb,Mar,Apr" to myVar.</span></div></pre></td></tr></table></figure>
<h2 id="unshift"><a href="#unshift" class="headerlink" title="unshift()"></a>unshift()</h2><p>方法将一个或多个元素添加到数组的开头，并返回新数组的长度。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line">a.unshift(<span class="number">4</span>, <span class="number">5</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(a);</div><div class="line"><span class="comment">// [4, 5, 1, 2, 3]</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>];</div><div class="line"></div><div class="line">arr.unshift(<span class="number">0</span>); <span class="comment">//result of call is 3, the new array length</span></div><div class="line"><span class="comment">//arr is [0, 1, 2]</span></div><div class="line"></div><div class="line">arr.unshift(<span class="number">-2</span>, <span class="number">-1</span>); <span class="comment">// = 5</span></div><div class="line"><span class="comment">//arr is [-2, -1, 0, 1, 2]</span></div><div class="line"></div><div class="line">arr.unshift( [<span class="number">-3</span>] );</div><div class="line"><span class="comment">//arr is [[-3], -2, -1, 0, 1, 2]</span></div></pre></td></tr></table></figure>
<h2 id="values-！"><a href="#values-！" class="headerlink" title="values() ！"></a>values() ！</h2><p>PS: Chrome 未实现，Firefox未实现，Edge已实现<br>方法返回一个新的 Array Iterator 对象，该对象包含数组每个索引的值。</p>
<h2 id="Array-prototype-iterator"><a href="#Array-prototype-iterator" class="headerlink" title="Array.prototype@@iterator"></a>Array.prototype<a href="">@@iterator</a></h2><h2 id="Array-unobserve"><a href="#Array-unobserve" class="headerlink" title="Array.unobserve()"></a>Array.unobserve()</h2><h2 id="get-Array-species"><a href="#get-Array-species" class="headerlink" title="get Array[@@species]"></a>get Array[@@species]</h2><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="遍历一个数组"><a href="#遍历一个数组" class="headerlink" title="遍历一个数组"></a>遍历一个数组</h2><h3 id="forEach-1"><a href="#forEach-1" class="headerlink" title="forEach"></a>forEach</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arrs = [<span class="string">'aaa'</span>, <span class="string">'bbb'</span>];</div><div class="line">arrs.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item, index, array</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(item, index);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// aaa  0</span></div><div class="line"><span class="comment">// bbb 1</span></div></pre></td></tr></table></figure>
<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arrs = [<span class="string">'aaa'</span>, <span class="string">'bbb'</span>];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arrs.length;i++)&#123;</div><div class="line">  <span class="built_in">console</span>.log(arrs[i]);</div><div class="line">&#125;</div><div class="line"><span class="comment">// aaa</span></div><div class="line"><span class="comment">// bbb</span></div></pre></td></tr></table></figure>
<h3 id="for-in"><a href="#for-in" class="headerlink" title="for in"></a>for in</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arrs = [<span class="string">'aaa'</span>, <span class="string">'bbb'</span>];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> arrs)&#123;</div><div class="line">  <span class="built_in">console</span>.log(arrs[i]);</div><div class="line">&#125;</div><div class="line"><span class="comment">// aaa</span></div><div class="line"><span class="comment">// bbb</span></div></pre></td></tr></table></figure>
<h3 id="for-of"><a href="#for-of" class="headerlink" title="for of"></a>for of</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arrs = [<span class="string">'aaa'</span>, <span class="string">'bbb'</span>];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> value <span class="keyword">of</span> arrs)&#123;</div><div class="line">  <span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// aaa</span></div><div class="line"><span class="comment">// bbb</span></div></pre></td></tr></table></figure>
<h3 id="map-1"><a href="#map-1" class="headerlink" title="map()"></a>map()</h3><p>方法创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> array = arr.map(<span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">currentValue, index, array</span>) </span>&#123; </div><div class="line">  <span class="comment">// Return element for new_array</span></div><div class="line">&#125;[, thisArg])</div><div class="line">方法会将其传入三个参数，分别是<span class="string">`currentValue`</span>当前成员、<span class="string">`index `</span>当前位置和<span class="string">`array `</span>数组本身</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line">numbers.map(<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> n + <span class="number">1</span>;</div><div class="line">&#125;);</div><div class="line"><span class="comment">// [2, 3, 4]</span></div></pre></td></tr></table></figure>
<h2 id="为-Array-对象添加一个去除重复项的方法"><a href="#为-Array-对象添加一个去除重复项的方法" class="headerlink" title="为 Array 对象添加一个去除重复项的方法"></a>为 Array 对象添加一个去除重复项的方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[<span class="literal">false</span>, <span class="literal">true</span>, <span class="literal">undefined</span>, <span class="literal">null</span>, <span class="literal">NaN</span>, <span class="number">0</span>, <span class="number">1</span>, &#123;&#125;, &#123;&#125;, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="literal">NaN</span>].uniq()</div><div class="line">=&gt;</div><div class="line">[<span class="literal">false</span>, <span class="literal">true</span>, <span class="literal">undefined</span>, <span class="literal">null</span>, <span class="literal">NaN</span>, <span class="number">0</span>, <span class="number">1</span>, &#123;&#125;, &#123;&#125;, <span class="string">'a'</span>]</div></pre></td></tr></table></figure>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>题目要求给 Array 添加方法，所以我们需要用到 prototype。数组去重本身算法不是很难，但是在 JavaScript 中很多人会忽视 NaN 的存在，因为在 JS 中 NaN !== NaN 。但是在去重中我们又不能保留两个 NaN ，所以需要进行一下判断，这是很多人容易忽视的。ES5的实现如下：</p>
<h3 id="ES5的实现"><a href="#ES5的实现" class="headerlink" title="ES5的实现"></a>ES5的实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.uniq = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> arr = [];</div><div class="line">  <span class="keyword">var</span> flag = <span class="literal">true</span>;</div><div class="line">  <span class="keyword">this</span>.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</div><div class="line">    <span class="comment">// 排除 NaN (重要！！！)</span></div><div class="line">    <span class="keyword">if</span> (item != item) &#123;</div><div class="line">      flag &amp;&amp; arr.indexOf(item) === <span class="number">-1</span> ? arr.push(item) : <span class="string">''</span>;</div><div class="line">      flag = <span class="literal">false</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      arr.indexOf(item) === <span class="number">-1</span> ? arr.push(item) : <span class="string">''</span></div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">  <span class="keyword">return</span> arr;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> data = [<span class="literal">false</span>, <span class="literal">true</span>, <span class="literal">undefined</span>, <span class="literal">null</span>, <span class="literal">NaN</span>, <span class="number">0</span>, <span class="number">1</span>, &#123;&#125;, &#123;&#125;, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="literal">NaN</span>]</div><div class="line">data.uniq()</div><div class="line"><span class="comment">// [false, true, undefined, null, NaN, 0, 1, &#123;…&#125;, &#123;…&#125;, "a"]</span></div></pre></td></tr></table></figure>
<h3 id="ES6的实现"><a href="#ES6的实现" class="headerlink" title="ES6的实现"></a>ES6的实现</h3><p>ES6新增了 Set 对象，也就是我们所说的“集合”，它类似于数组，但是成员的值都是唯一的，没有重复的值。所以可以方便去重。<br>Set本身是一个构造函数，用来生成Set数据结构。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.uniq = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(<span class="keyword">this</span>));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">Array</span>.prototype.uniq = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> [...new <span class="built_in">Set</span>(<span class="keyword">this</span>)];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/02/27/Induce/ES6/ArraySetMap/" rel="next" title="ES6 Set 和 Map 数据结构">
                <i class="fa fa-chevron-left"></i> ES6 Set 和 Map 数据结构
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/02/28/Induce/JavaScript/Base/fnCurrying/" rel="prev" title="JavaScript currying">
                JavaScript currying <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="世平阜康" />
          <p class="site-author-name" itemprop="name">世平阜康</p>
           
              <p class="site-description motion-element" itemprop="description">luuman，90后，水瓶座普通男青年！爱折腾，爱运动，更爱游离于错综复杂的编码与逻辑中，无法自拔。相信编程是一门艺术，自诩为游弋在代码里的人生。</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">226</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">33</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">67</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#属性"><span class="nav-number">1.</span> <span class="nav-text">属性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#length"><span class="nav-number">1.1.</span> <span class="nav-text">length</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#截断数组"><span class="nav-number">1.1.1.</span> <span class="nav-text">截断数组</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#prototype"><span class="nav-number">1.2.</span> <span class="nav-text">prototype</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#prototype-unscopables"><span class="nav-number">1.3.</span> <span class="nav-text">prototype[@@unscopables]</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#方法"><span class="nav-number">2.</span> <span class="nav-text">方法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#from"><span class="nav-number">2.1.</span> <span class="nav-text">from()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法"><span class="nav-number">2.1.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#示例"><span class="nav-number">2.1.2.</span> <span class="nav-text">示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ECMA-262"><span class="nav-number">2.1.3.</span> <span class="nav-text">ECMA-262</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#isArray"><span class="nav-number">2.2.</span> <span class="nav-text">isArray()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#instanceof与isArray"><span class="nav-number">2.2.1.</span> <span class="nav-text">instanceof与isArray</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#of"><span class="nav-number">2.3.</span> <span class="nav-text">of()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#兼容旧环境"><span class="nav-number">2.3.1.</span> <span class="nav-text">兼容旧环境</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#concat"><span class="nav-number">2.4.</span> <span class="nav-text">concat()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-1"><span class="nav-number">2.4.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#连接两个数组"><span class="nav-number">2.4.2.</span> <span class="nav-text">连接两个数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#连接三个数组"><span class="nav-number">2.4.3.</span> <span class="nav-text">连接三个数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#将值连接到数组"><span class="nav-number">2.4.4.</span> <span class="nav-text">将值连接到数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#合并嵌套数组"><span class="nav-number">2.4.5.</span> <span class="nav-text">合并嵌套数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#concat-apply"><span class="nav-number">2.4.6.</span> <span class="nav-text">concat.apply</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#concat-apply-1"><span class="nav-number">2.5.</span> <span class="nav-text">concat.apply()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组元素合并"><span class="nav-number">2.6.</span> <span class="nav-text">数组元素合并</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#copyWithin"><span class="nav-number">2.7.</span> <span class="nav-text">copyWithin()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#参数"><span class="nav-number">2.7.1.</span> <span class="nav-text">参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#兼容旧环境（Polyfill）"><span class="nav-number">2.7.2.</span> <span class="nav-text">兼容旧环境（Polyfill）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#思考：如何用-splice-实现-copyWithin？"><span class="nav-number">2.7.3.</span> <span class="nav-text">思考：如何用 splice 实现 copyWithin？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#entries"><span class="nav-number">2.8.</span> <span class="nav-text">entries()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#示例-1"><span class="nav-number">2.8.1.</span> <span class="nav-text">示例</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Array-Iterator"><span class="nav-number">2.8.1.1.</span> <span class="nav-text">Array Iterator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iterator-next"><span class="nav-number">2.8.1.2.</span> <span class="nav-text">iterator.next()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iterator-next方法运行"><span class="nav-number">2.8.1.3.</span> <span class="nav-text">iterator.next方法运行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#二维数组按行排序"><span class="nav-number">2.8.1.4.</span> <span class="nav-text">二维数组按行排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用for…of-循环"><span class="nav-number">2.8.1.5.</span> <span class="nav-text">使用for…of 循环</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#every"><span class="nav-number">2.9.</span> <span class="nav-text">every()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-2"><span class="nav-number">2.9.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#兼容旧环境（Polyfill）-1"><span class="nav-number">2.9.2.</span> <span class="nav-text">兼容旧环境（Polyfill）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#fill-！"><span class="nav-number">2.10.</span> <span class="nav-text">fill() ！</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-3"><span class="nav-number">2.10.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#兼容旧环境（Polyfill）-2"><span class="nav-number">2.10.2.</span> <span class="nav-text">兼容旧环境（Polyfill）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#filter"><span class="nav-number">2.11.</span> <span class="nav-text">filter()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#find"><span class="nav-number">2.12.</span> <span class="nav-text">find()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#findIndex"><span class="nav-number">2.13.</span> <span class="nav-text">findIndex()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#forEach"><span class="nav-number">2.14.</span> <span class="nav-text">forEach()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#includes"><span class="nav-number">2.15.</span> <span class="nav-text">includes()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#indexOf"><span class="nav-number">2.16.</span> <span class="nav-text">indexOf()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#join"><span class="nav-number">2.17.</span> <span class="nav-text">join()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#keys"><span class="nav-number">2.18.</span> <span class="nav-text">keys()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lastIndexOf"><span class="nav-number">2.19.</span> <span class="nav-text">lastIndexOf()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#map"><span class="nav-number">2.20.</span> <span class="nav-text">map()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pop"><span class="nav-number">2.21.</span> <span class="nav-text">pop()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#push"><span class="nav-number">2.22.</span> <span class="nav-text">push()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reduce"><span class="nav-number">2.23.</span> <span class="nav-text">reduce()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reduceRight"><span class="nav-number">2.24.</span> <span class="nav-text">reduceRight()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reverse"><span class="nav-number">2.25.</span> <span class="nav-text">reverse()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shift"><span class="nav-number">2.26.</span> <span class="nav-text">shift()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#slice"><span class="nav-number">2.27.</span> <span class="nav-text">slice()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-4"><span class="nav-number">2.27.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类似数组（Array-like）对象"><span class="nav-number">2.27.2.</span> <span class="nav-text">类似数组（Array-like）对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#some"><span class="nav-number">2.28.</span> <span class="nav-text">some()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sort"><span class="nav-number">2.29.</span> <span class="nav-text">sort()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-5"><span class="nav-number">2.29.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#示例-2"><span class="nav-number">2.29.2.</span> <span class="nav-text">示例</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#创建、显示及排序数组"><span class="nav-number">2.29.2.1.</span> <span class="nav-text">创建、显示及排序数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对非-ASCII-字符排序"><span class="nav-number">2.29.2.2.</span> <span class="nav-text">对非 ASCII 字符排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用映射改善排序"><span class="nav-number">2.29.2.3.</span> <span class="nav-text">使用映射改善排序</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#splice"><span class="nav-number">2.30.</span> <span class="nav-text">splice()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-6"><span class="nav-number">2.30.1.</span> <span class="nav-text">语法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#toLocaleString-NaN"><span class="nav-number">2.31.</span> <span class="nav-text">toLocaleString()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-toLocaleString"><span class="nav-number">2.31.1.</span> <span class="nav-text">使用 toLocaleString</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#toSource-！"><span class="nav-number">2.32.</span> <span class="nav-text">toSource() ！</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#toString-NaN"><span class="nav-number">2.33.</span> <span class="nav-text">toString()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#unshift"><span class="nav-number">2.34.</span> <span class="nav-text">unshift()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#values-！"><span class="nav-number">2.35.</span> <span class="nav-text">values() ！</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array-prototype-iterator"><span class="nav-number">2.36.</span> <span class="nav-text">Array.prototype@@iterator</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array-unobserve"><span class="nav-number">2.37.</span> <span class="nav-text">Array.unobserve()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#get-Array-species"><span class="nav-number">2.38.</span> <span class="nav-text">get Array[@@species]</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#使用"><span class="nav-number">3.</span> <span class="nav-text">使用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#遍历一个数组"><span class="nav-number">3.1.</span> <span class="nav-text">遍历一个数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#forEach-1"><span class="nav-number">3.1.1.</span> <span class="nav-text">forEach</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for循环"><span class="nav-number">3.1.2.</span> <span class="nav-text">for循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-in"><span class="nav-number">3.1.3.</span> <span class="nav-text">for in</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-of"><span class="nav-number">3.1.4.</span> <span class="nav-text">for of</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map-1"><span class="nav-number">3.1.5.</span> <span class="nav-text">map()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#为-Array-对象添加一个去除重复项的方法"><span class="nav-number">3.2.</span> <span class="nav-text">为 Array 对象添加一个去除重复项的方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#分析"><span class="nav-number">3.2.1.</span> <span class="nav-text">分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ES5的实现"><span class="nav-number">3.2.2.</span> <span class="nav-text">ES5的实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ES6的实现"><span class="nav-number">3.2.3.</span> <span class="nav-text">ES6的实现</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">世平阜康</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  






  





  

  

  

  

</body>
</html>
